
# NMAP Quick Guide for Penetration Professionals

Nmap (Network Mapper) is a free and open-source network scanner designed to discover hosts and services on a computer network. When used by skilled penetration testers, it can be a very powerful tool to assess network vulnerabilities.

## Basic Usage:

```bash
nmap [Scan Type] [Options] {target specification}
```

## 1. Host Discovery

**Ping Scan (no port scan)**
\`\`\`bash
nmap -sn <target>
\`\`\`

**Don't ping, just scan**
\`\`\`bash
nmap -Pn <target>
\`\`\`

## 2. Scan Techniques

- **TCP SYN scan** (default for privileged users)
  \`\`\`bash
  nmap -sS <target>
  \`\`\`

- **TCP connect scan** (default for non-privileged users)
  \`\`\`bash
  nmap -sT <target>
  \`\`\`

- **UDP scan**
  \`\`\`bash
  nmap -sU <target>
  \`\`\`

- **SCTP INIT scan** (requires privileges)
  \`\`\`bash
  nmap -sY <target>
  \`\`\`

## 3. Port Specification

- **Specific Ports**
  \`\`\`bash
  nmap -p 22,80,443 <target>
  \`\`\`

- **Port Ranges**
  \`\`\`bash
  nmap -p 1-1000 <target>
  \`\`\`

- **All Ports**
  \`\`\`bash
  nmap -p- <target>
  \`\`\`

## 4. Version Detection

Attempt to determine the version of the service running on port:
\`\`\`bash
nmap -sV <target>
\`\`\`

## 5. OS Detection

Detect the operating system of the target:
\`\`\`bash
nmap -O <target>
\`\`\`

## 6. Timing and Performance

Timing templates can be used to speed up or slow down scanning based on the network environment.

- **Paranoid (0)**: Very slow, used to avoid IDS/IPS systems.
- **Sneaky (1)**
- **Polite (2)**
- **Normal (3)**
- **Aggressive (4)**
- **Insane (5)**: Extremely fast, but might miss some results.

\`\`\`bash
nmap -T4 <target>
\`\`\`

## 7. Scan using a Decoy

Spoof your IP with a decoy to obscure your machine's request:
\`\`\`bash
nmap -D RND:10 <target>  # Randomizes decoys
nmap -D decoy1,decoy2,decoy3 <target>  # Manually set decoys
\`\`\`

## 8. Scripting Engine

Nmap has a powerful scripting engine for advanced tasks:

- **Default Safe Scripts**:
  \`\`\`bash
  nmap -sC <target>
  \`\`\`

- **Specific Script**:
  \`\`\`bash
  nmap --script=<script-name> <target>
  \`\`\`

- **Categories**:
  There are many script categories available like `auth`, `brute`, `discovery`, etc. Example:
  \`\`\`bash
  nmap --script=discovery <target>
  \`\`\`

## 9. Output

- **Standard Output**:
  \`\`\`bash
  nmap -oN outputfile.txt <target>
  \`\`\`

- **XML Output**:
  \`\`\`bash
  nmap -oX outputfile.xml <target>
  \`\`\`

## Tips:

1. **Always respect legal and ethical guidelines**. Never scan networks or systems without explicit permission.
2. **Stealthy scans**: The less aggressive you make your scan (e.g., fewer ports, slower speed), the less likely you are to trigger alarms.
3. **Stay Updated**: Regularly update Nmap and its scripts (`nmap --script-updatedb`) to ensure you have the latest techniques and signatures.

## Resources:
- Nmap Official Documentation: https://nmap.org/book/man.html
- Nmap Scripting Engine (NSE): https://nmap.org/book/nse.html

Now you're equipped with the essential knowledge on Nmap. With hands-on practice and experience in real-life or lab scenarios, you can become proficient in its use for penetration testing. Remember to always use tools ethically and responsibly!
